(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(4904)}])},4904:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return MyApp}});var l=a(5893);a(415);var n=a(7294);function InstallPrompt(){let[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}let handleBeforeInstallPrompt=e=>{e.preventDefault(),t(e),s(!0)},handleAppInstalled=()=>{i(!0),s(!1),t(null)};return window.addEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.addEventListener("appinstalled",handleAppInstalled),()=>{window.removeEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.removeEventListener("appinstalled",handleAppInstalled)}},[]);let handleInstallClick=async()=>{if(!e)return;e.prompt();let{outcome:a}=await e.userChoice;"accepted"===a&&(i(!0),s(!1)),t(null)},handleDismiss=()=>{s(!1)};return r||!a?null:(0,l.jsx)("div",{className:"fixed bottom-4 right-4 left-4 md:left-auto md:w-80 bg-white rounded-xl shadow-2xl p-4 z-40 animate-slide-up border border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"تثبيت التطبيق"}),(0,l.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"ثبت تطبيق بيت الريف على جهازك للوصول السريع والميزات المتقدمة"}),(0,l.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,l.jsx)("button",{onClick:handleInstallClick,className:"flex-1 px-3 py-2 bg-primary text-white text-xs font-semibold rounded-lg hover:bg-primary-dark transition",children:"تثبيت الآن"}),(0,l.jsx)("button",{onClick:handleDismiss,className:"px-3 py-2 bg-gray-100 text-gray-700 text-xs font-semibold rounded-lg hover:bg-gray-200 transition",children:"لاحقاً"})]})]}),(0,l.jsx)("button",{onClick:handleDismiss,className:"flex-shrink-0 text-gray-400 hover:text-gray-600","aria-label":"إغلاق",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})}function MyApp(e){let{Component:t,pageProps:a}=e;return(0,n.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(e=>{console.log("Service Worker registration failed:",e)})},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(InstallPrompt,{}),(0,l.jsx)(t,{...a})]})}},415:function(){}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return __webpack_exec__(1118),__webpack_exec__(9974)}),_N_E=e.O()}]);